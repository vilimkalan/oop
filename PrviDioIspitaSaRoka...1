
using System.Reflection.Metadata.Ecma335;
using System.Runtime.CompilerServices;
using System.Security.Cryptography.X509Certificates;
using System.Threading.Tasks.Dataflow;
using System.Transactions;

internal class Program
{


    static void Main(string[] args)
    {
        DailyOxygenSaturation saturations = new DailyOxygenSaturation("Patient_378", 5);
        Console.WriteLine(saturations);
        Console.WriteLine(saturations.Size);
        saturations.SetSaturationAt(1, 93.22);
        Console.WriteLine(saturations);

    }


    class DailyOxygenSaturation
    {
        public string Id { get; private set; }
        double[] dailyOxygenPercent;
        public int Size { get { return dailyOxygenPercent.Length; } }
        public double GetOxygenPercentAt(int position) => this.dailyOxygenPercent[position];

        public DailyOxygenSaturation(string id, int size)
        {
            this.Id = id;

            dailyOxygenPercent = new double[size];
            for (int i = 0; i < size; i++)
            {
                dailyOxygenPercent[i] = 100;
            }
        }

        public void SetSaturationAt(int positionn, double value)
        {
            dailyOxygenPercent[positionn] = value;
        }

        public override string ToString()
        {
            string saturacije = "";
            for (int i = 0; i < Size; i++)
            {
                if (i < Size - 1)
                {
                    saturacije += $"{dailyOxygenPercent[i]}, ";
                }
                else saturacije += $"{dailyOxygenPercent[i]}";
            }
            // saturacije=saturacije.TrimEnd(' ',',');
            return saturacije;
        }

        public bool IsEndangered(Patient patient)
        {
            foreach (var p in dailyOxygenPercent)
            {
                if (p < patient.MinimalOxygenPercent)
                {
                    return true;
                }
            }
            return false;
        }

    }
    class Patient
    {
        public double MinimalOxygenPercent { get; private set; }

        public Patient(double minimalOxygenPercent)
        {
            this.MinimalOxygenPercent = minimalOxygenPercent;
        }
    }


    static class Dispatcher
    {
        public static DailyOxygenSaturation Join(DailyOxygenSaturation a, DailyOxygenSaturation b)
        {
            int noviSize = a.Size + b.Size;
            DailyOxygenSaturation saturacija = new DailyOxygenSaturation("novi", noviSize);
          
            for (int i = 0; i < a.Size; i++)
            {
                saturacija.SetSaturationAt(i, a.GetOxygenPercentAt(i));

            }
            for (int i =0; i < b.Size; i++)
            {
                saturacija.SetSaturationAt(i+a.Size, b.GetOxygenPercentAt(i));

            }
            return saturacija;

        }



    }
    using System.Reflection.Metadata.Ecma335;
using System.Runtime.CompilerServices;
using System.Security.Cryptography.X509Certificates;
using System.Threading.Tasks.Dataflow;
using System.Transactions;

internal class Program
{


    static void Main(string[] args)
    {
       
    }


    class Chapter
    {
        public string Title { get; set; }
        public string Contents { get; set; }

        public Chapter(string title, string contents)
        {
            Title = title;
            Contents = contents;
        }
    }

    abstract class Story
    {
        public string Title { get; protected set; }
        protected List<Chapter> chapters;

        public Story(string title)
        {
            Title = title;
            chapters = new List<Chapter>();
        }

        public void AddChapter(Chapter s) => chapters.Add(s);

        public Chapter GetChapterAt(int index) => chapters[index];

        public void SplitChapter(string naslov)
        {
            string FirstHalf = "";
            string SecondHalf = "";
            
           for(int index=0; index<chapters.Count; index++)
            {

                if (naslov == chapters[index].Title)
                {
                    string contents = chapters[index].Contents;
                    int half = contents.Length / 2;

                    string firstHalf = contents.Substring(0, half);
                    string secondHalf = contents.Substring(half);


                    Chapter prviDio = new Chapter($"{naslov}" + "(1)", FirstHalf);
                    Chapter drugiDio = new Chapter($"{naslov}" + "(2)", SecondHalf);

                    chapters.RemoveAt(index);
                    chapters.Insert(index, prviDio);
                    chapters.Insert(index+1, drugiDio);
                }
                index++;

            }

        }
    }


}

}

